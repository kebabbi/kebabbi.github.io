<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">

        <title>Dice</title>

        <style>
            body {
                margin: 0px;
            }
            .dieContainer {
                height: 80px;
                width: 100%;
                border-bottom: 1px solid black;
            }
            .dieContainer > button {
                width: 80px;
                height: 100%;
                font-size: 16pt;
                display: inline-block;
                float: left;
            }
            .dieContainer > span {
                font-size: 16pt;                
                height: 100%;
                width: calc(100% - 80px);
                display: inline-block;
                overflow-y: scroll;
                font-family: monospace;
            }
            .dieContainer > span span {
                transition: all 0.4s ease-out;
                opacity: 0;
                background-color: #f00;
                margin-left: 5px;
                display:inline-block;
            }
            .dieContainer > span span.show:nth-child(2n) {
                background-color: #EEE;
            }
            .dieContainer > span span.show {
              opacity: 1;
              background-color: #fff;
            }
        </style>

        <script>
            function rollDie(button, maxValue){
                var stringLength = (""+maxValue).length;
                var value = 1 + Math.floor(Math.random() * maxValue);
                var dieResult = button.parentNode.children[1]
                var resultHolder = document.createElement("span");
                resultHolder.innerHTML = padLeft(value, stringLength, "0");
                dieResult.appendChild(resultHolder);
                setTimeout(function(){
                    resultHolder.className = "show";
                    dieResult.scrollTop = dieResult.scrollHeight;
                }, 20);
            }

            function padLeft(word, length, padding){
                var paddedWord = ""+word;
                while(paddedWord.length < length){
                    paddedWord = padding + paddedWord;
                }
                return paddedWord;
            }
        </script>

    </head>
    <body>
        <div class="dieContainer">
            <button onclick="rollDie(this,20)">d20</button>
            <span></span>
        </div>
        <div class="dieContainer">
            <button onclick="rollDie(this,10)">d10</button>
            <span></span>
        </div>
        <div class="dieContainer">
            <button onclick="rollDie(this,8)">d8</button>
            <span></span>
        </div>
        <div class="dieContainer">
            <button onclick="rollDie(this,6)">d6</button>
            <span></span>
        </div>
        <div class="dieContainer">
            <button onclick="rollDie(this,4)">d4</button>
            <span></span>
        </div>
    </body>
</html>
